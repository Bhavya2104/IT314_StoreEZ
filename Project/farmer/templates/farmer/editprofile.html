{% extends 'farmerbase.html' %}
{% load static %}
{% block title %} Farmer | EditProfile {% endblock title %}
{% block css %}
  <link rel="stylesheet" href="{% static 'farmer/body-form.css' %}">
{% endblock%}


{% block content %}
{% if messages %}
    <script>
        function closeAlert(element) {
            var alert = element.parentElement;
            alert.style.display = 'none';
        }
    </script>
    {% for message in messages %}
        {% if message.tags == "success" %}
        <div class="alert success-alert">
            <h3>Success Alert Message</h3>
            <a class="close">&times;</a>
        </div>
        {% elif message.tags == "error" %}
        <div class="alert danger-alert">
            <h3>{{message}}</h3>
            <a class="close" onclick="closeAlert(this)">&times;</a>
        </div>
        
        {% else %}
        <div class="alert warning-alert">
            <h3>Warning Alert Message</h3>
            <a class="close">&times;</a>
        </div>
        {% endif %}

    {% endfor %}
{% endif %}
<div class="body">
  <div style="flex:1">
  </div>
  <div class="main-form">
    <form class="fill-form" method = "post" enctype="multipart/form-data"> <!-- enctype is needed here for image upload-->
      {% csrf_token %}
      <div class="title">
        <p>
          Edit Profile
        </p>
      </div>
      <div style="text-align:center;">
        <img class="profile-img" src="{{farmer_image.url}}"; style="width:180px !important">
      </div>
      <div class="namee" style="display:flex;
      flex-direction: row; margin:0;">
      <input id="id" type="hidden"  name = "loggedin_userid" value = {{user.id}}>
        <div id="div1-1">
          <label for="first-name">First Name</label><br>
          {{editprofile.first_name}}
        </div>
        <div id="div1-2">
          <label for="last-name">Last Name</label><br>
          {{editprofile.last_name}}
        </div>
        
      </div>
      {% comment %} <div id="div2">
        <label for="email">Email ID</label><br>
        {{editprofile.email}}
      </div>
      {% endcomment %}
      
      <div id="div3">
        <label for="city">City</label><br>
        {{editprofile.city}}
      </div>
      
      <div id="div4">
        <label for="state">State</label><br>
        {{editprofile.state}}
      </div>
      
      <div id="div5">
        <label for="image">Upload an Image (Skip to unchange)</label><br>
        {{editprofile.image}}
      </div>
      
      
      <div id="div6">
        <label for="phone">Mobile No.</label><br>
        {{editprofile.phone_no}}
      </div>

      <div class="error-show" style="background-color: rgb(226, 87, 114);">
        
      </div>

      <div id="div7" style="display:flex; flex-direction:row; justify-content:space-around; align-items: center;">
        <div style="flex:1;">
          <input type="submit" value="Confirm" />
        </div>
        <div style="flex:1;">
          <button style="border-width:0.8px;border-color:rgb(144, 188, 121);
          font-family:Roboto;font-size:16px;block-size:35px;margin-block-start:8px;display:inline-block;
          font-weight:400" onclick="location.href='{% url 'farmer_profile' %}'" type='button'> Cancel </button>
        </div>
        
        
      </div>
      <div class="error-show" style="background-color: rgb(226, 87, 114);">
        {{errors}}
      </div>
    </form>
  </div>
    
  <div style="flex:1;">
  </div>
</div>

{% endblock %}

{% block js %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
{% endblock %}